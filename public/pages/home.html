<!DOCTYPE html>

<head>
    <!-- SCROLLS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" />

    <!-- SPELLS -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.js"></script>
    <script src="http://maps.google.com/maps/api/js"></script>
    <script src="http://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.min.js"></script>
    <script src="../script.js"></script>
    <link rel="stylesheet" type="text/css" href="./styles/wham.css">
</head>
<div ng-controller="getLocation" data-ng-init="init()">
<div class="row">
        <form class="form-inline">
 <!--           <div class="col-md-2">
                 <label for="location">Enter Location </label>
            </div>

 -->
            <div class="col-md-6"></div>
            <div class="col-md-2">
                <div class="input-group">
                    <!--<div class="input-group-addon">Location</div>-->
                        <input type="text" class="form-control" ng-model="searchQuery" placeholder="Enter location">
                </div>
            </div>
            <div class="col-md-4">
                <button type="button" class="btn btn-primary active" ng-click="search()">Search</button>
            </div>
        </form>

</div>
<br>
<div class="row">

      <!-- <p> latitude : {{userlat}} </p>
       <p> longitude : {{userlong}} </p>-->

        <!--<p ng-show="visibility"> Search Query : {{searchQuery}} </p>-->
    <!-- <td> {{ event.latitude }}  </td>
                    <td> {{ event.longitude }}  </td>-->
   <!-- <div class="col-md-1"></div>-->
    <div class="col-md-4">
        <table class="table table-hover">
            <tr>
                <th colspan="4"></th>
                <th>Event</th>
                <th>Where?</th>
                <th>When?</th>
            </tr>
            <tr ng-repeat="event in eventDetails">

                <td colspan="4">
                    <img ng-src="{{event.image}}" /> <!--style="display:block;" width="100%" height="100%" -->
                </td>
                <td> {{ event.title }} </td>
                <td> {{ event.venue_name }} </td>
                <td> {{ event.start_time }} </td>
            </tr>
        </table>
    </div>

    <div class="col-md-8" id="map" map-lazy-load="http://maps.google.com/maps/api/js">
        <ng-map center="{{where}}" zoom="8"  style="height: 800px;">
            <marker position = "{{e.latitude}},{{e.longitude}}"
                    ng-repeat="e in eventDetails"
                    on-click="clickEventInfo(event,e)">
            </marker>
            <info-window id="map-event" position="{{mapEvent.latitude}},{{mapEvent.longitude}}">
                <div ng-non-bindable="">
                    Event: {{mapEvent.title}}<br>
                    Where?: {{mapEvent.venue_name}}<br>
                    When?: {{mapEvent.start_time}}
                </div>
            </info-window>
            <marker position="current-location"
                    icon="images/me.png"></marker>
            <info-window id="foo" position="current-location">
                <div ng-non-bindable="">
                    <div>
                        Hi, You are here!
                    </div>
                </div>
            </info-window>
        </ng-map>
    </div>
    <!-- <div class="col-md-1"></div> -->

         <!--   <div class="col-md-3">
                <pre ng-show="visibility"> {{eventDetails | json}}</pre>
            </div> -->

        </div>
</div>
